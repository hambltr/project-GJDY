<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="참 잘했어요! 잘했도요.">
    <meta name="keywords" content="도전,챌린지,도전모임,결심,목표,동기부여,노력,새해목표,올해목표,새해맞이">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <link href="https://hangeul.pstatic.net/hangeul_static/css/NanumHarABeoJiEuiNaNum.css" rel="stylesheet">
    <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-gothic.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="verify-list.css">

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <title>잘했도요</title>
    <link rel="icon" href="icon/favicon.ico">
</head>

<body>
    <section class="view">
        <section>
            <div id="header"></div>
            <div class="contents-wrap">
                <div class="filter-list" style="justify-content: space-evenly;">
                    <div class="f-list1 tab-selected">인증하기</div>
                    <div class="f-list2">인증내역</div>
                </div>
                <div class="verify-whole-wrap">
                    <div class="verify-container">
                        <div class="verify-grid-item">
                            <a href="#">
                                <img src="img/cycle.jpg">
                                <h5>자라니 꿈나무 모여라</h5>
                                <p>가보자고~</p>
                            </a>
                        </div>
                        <div class="verify-grid-item">
                            <a href="#">
                                <img src="img/coding_1.jpg">
                                <h5>코딩하기</h5>
                                <p>코딩합시다.</p>
                            </a>
                        </div>
                        <div class="verify-grid-item">
                            <a href="#">
                                <img src="img/pet_cat.png">
                                <h5>고양이 500번 쓰다듬기</h5>
                                <p>예아</p>
                            </a>
                        </div>
                        <div class="verify-grid-item">
                            <a href="#">
                                <img src="img/bed.jpg">
                                <h5>일어나서 이불개기</h5>
                                <p>이거 못하면 바보</p>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="verify-history-wrap" style="display: none;">
                    <div class="verify-history">
                        <div class="verify-history-title">
                            <img src="img/pet_cat.png">
                            <h2>고양이 500번 쓰다듬기</h2>
                        </div>
                        <div class="verify-history-check">
                            <div>
                                <p>월</p>
                            </div>
                            <div>
                                <p>화</p>
                            </div>
                            <div>
                                <p>수</p>
                            </div>
                            <div>
                                <p>목</p>
                            </div>
                            <div>
                                <p>금</p>
                            </div>
                            <div>
                                <p>토</p>
                            </div>
                            <div>
                                <p>일</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </section>
    <script>
            $(function () {
      $("#header").load("header.html");
    });


        // 서버에서 받아온 데이터 배열
        var challengeUserData = [
            { imgSrc: 'img/coding_1.jpg', name: '코딩하기', comment: '코딩합시다.' },
            { imgSrc: 'img/drowing.jpg', name: '드로잉/크로키 연습', comment: '그림을 그립시다.' },
            { imgSrc: 'img/cycle.jpg', name: '자라니 꿈나무 모여라', comment: '가보자고~' },
            { imgSrc: 'img/coding_2.jpg', name: '코딩하기', comment: '이딴게 재밌어요?' }
        ];

        var loadCount = 0; // 로드된 횟수 초기화

        $(window).scroll(function () {
            var scrollPosition = $(window).scrollTop();
            var windowHeight = $(window).height();
            var documentHeight = $(document).height();

            // 스크롤 위치의 오차를 늘립니다. (문서 하단 0.95배 지점까지 스크롤 하면, 새로 로드)
            if (scrollPosition >= 0.95 * documentHeight - windowHeight && loadCount < 4) {
                console.log('챌린지 페이지가 로드되었습니다.');
                for (var i = 0; i < challengeUserData.length; i++) {
                    var htmlContent = `<div class="verify-grid-item">
                    <a href="#">
                        <img src="${challengeUserData[i].imgSrc}">
                        <h5>${challengeUserData[i].name}</h5>
                        <p>${challengeUserData[i].comment}</p>
                    </a>
                </div>`;
                    $(".verify-container").append(htmlContent);
                }

                loadCount++; // 로드 횟수 증가
            }
        });
    </script>
    <script>
        $(document).ready(function () {
            var verifyWholeWrap = $('.verify-whole-wrap');
            var verifyHistoryWrap = $('.verify-history-wrap');
            var fList1 = $('.f-list1');
            var fList2 = $('.f-list2');

            fList1.click(function () {
                verifyHistoryWrap.css('display', 'none');
                verifyWholeWrap.css('display', 'block');
                fList2.removeClass('tab-selected');
                fList1.addClass('tab-selected');
            });

            fList2.click(function () {
                verifyWholeWrap.css('display', 'none');
                verifyHistoryWrap.css('display', 'block');
                fList1.removeClass('tab-selected');
                fList2.addClass('tab-selected');
            });
        });
    </script>
    <script>
        $(document).ready(function () {
            // 7일 단위로 서버에서 object array 형태로 load
            // day:요일, completed:완수 여부, date:날짜
            var tasks = [
                { day: '월', completed: true, date: '01-01' },
                { day: '화', completed: false, date: '01-02' },
                { day: '수', completed: true, date: '01-03' },
                { day: '목', completed: true, date: '01-04' },
                { day: '금', completed: false, date: '01-05' },
                { day: '토', completed: true, date: '01-06' },
                { day: '일', completed: false, date: '01-07' }
            ];

            $('.verify-history-check div').each(function (index) {
                var dayElement = $(this);
                var task = tasks[index];

                // 완수 여부에 따른 클래스 추가
                if (task.completed) {
                    dayElement.addClass('verify-ok');
                } else {
                    dayElement.addClass('verify-no');
                }

                // 날짜 추가
                if (task.date) {
                    dayElement.append('<span class="date">' + task.date + '</span>');
                }
            });
        });
    </script>




    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>

</html>